from PIL import Image

# 打開圖片
image = Image.open("lena.png")
image = image.resize((256, 256))

# 自定義量化表
custom_qtables = [
    # 量化表 1 (Luminance)
    [
        0.9,
        0.90008235,
        0.8999974,
        0.90003115,
        0.90086746,
        0.900019,
        0.8999969,
        0.9000427,
        0.9023178,
        0.90058374,
        0.9006278,
        0.8999132,
        0.9008671,
        0.8999457,
        0.90006024,
        0.9000083,
        0.8980963,
        0.90195304,
        0.89944845,
        0.9010386,
        0.8999516,
        0.900019,
        0.9000585,
        0.9000026,
        0.9212082,
        0.89199513,
        0.9001773,
        0.90141624,
        0.9003421,
        0.89981616,
        0.89841074,
        0.90000033,
        0.9001974,
        0.9001182,
        0.9001012,
        0.89990795,
        0.8998527,
        0.89993304,
        0.8998625,
        0.8999435,
        0.89947736,
        0.89996994,
        0.9000671,
        0.900045,
        0.90000445,
        0.89994013,
        0.8999876,
        0.8999319,
        0.89993757,
        0.89990366,
        0.9000067,
        0.8999741,
        0.89998984,
        0.8999801,
        0.90000886,
        0.89999217,
        0.89998823,
        0.8999331,
        0.89996856,
        0.90000695,
        0.90002054,
        0.9000015,
    ],
    # 量化表 2 (Chrominance)
    [
        0.9000004,
        10.4747305,
        5.7282314,
        3.099878,
        1.7551382,
        0.90006775,
        0.8999346,
        0.899981,
        5.8292375,
        4.4063435,
        3.1488724,
        2.2821305,
        1.3722456,
        0.90003353,
        0.89997476,
        0.89999825,
        2.7271845,
        2.3570907,
        2.1060283,
        1.5565885,
        0.8998542,
        0.8999922,
        0.9000068,
        0.9000068,
        1.3876572,
        1.3766284,
        1.5290513,
        1.1390594,
        0.89914465,
        0.8999835,
        0.9000067,
        0.8999613,
        0.89996916,
        0.89903206,
        0.8997081,
        0.8999673,
        0.8998143,
        0.8999755,
        0.9000764,
        0.9000136,
        0.89996403,
        0.8999097,
        0.9000126,
        0.89999807,
        0.8999964,
        0.9000109,
        0.8999845,
        0.89999753,
        0.8999995,
        0.900022,
        0.89998466,
        0.89997596,
        0.8999889,
        0.9000068,
        0.900027,
        0.90003395,
        0.89999604,
        0.9000016,
        0.900028,
        0.9000226,
        0.90000427,
        0.9000015,
        0.9000069,
        0.90000194,
    ],
]

# 保存圖片，並應用自定義量化表
image.save("trained_image.jpg", format="JPEG", qtables=custom_qtables, quality=90)
image.save("simple_version.jpg", format="JPEG", quality=90)
